<h1 mat-dialog-title>Editar Lote</h1>
<div mat-dialog-content>

  <div>
    <form>
      <div class="form-group">
        <label for="lote">Lote</label>
        <input type="text" class="form-control" id="lote">
      </div>
      <div class="form-group">
        <label for="codigo">Código</label>
        <input type="text" class="form-control" id="codigo">
      </div>
      <div class="form-group">
        <label for="valor_base">Valor Base</label>
        <input type="text" class="form-control" id="valor_base">
      </div>
      <div class="form-group">
        <label for="valor_ampliacion">Valor Ampliación</label>
        <input type="text" class="form-control" id="valor_ampliacion">
      </div>
      <div class="form-group">
        <mat-slide-toggle>En Venta</mat-slide-toggle>
      </div>


      <div class="form-group">
        <button type="button" class="btn btn-secondary btn-block" (click)="addPrototipo()">
          <i class="fa fa-plus" aria-hidden="true"></i> Prototipo</button>
      </div>

      <div formArrayName="prototipos">
        <div class="form-group" *ngFor="let prototipo of form.controls['prototipos'].controls; let i= index">
          <div class="input-group">
            <select class="form-control" [formControlName]="i">
              <option value="">Elegir prototipo...</option>
              <option *ngFor="let p of prototipos" [value]="p.id_prototipo">{{p.nombre}}</option>
            </select>
            <span class="input-group-btn">
              <button class="btn btn-secondary" (click)="delPrototipo(i)">
                <i class="fa fa-minus" aria-hidden="true"></i>
              </button>
            </span>
          </div>
        </div>
      </div>
      <div class="form-group" *ngIf="form.get('prototipos').errors?.repetidos">
        <div class="form-text text-danger">Tiene algún prototipo repetido</div>
      </div>



    </form>
  </div>

</div>
<div mat-dialog-actions>
  <button mat-button [mat-dialog-close]="false">CANCELAR</button>
  <button mat-button [mat-dialog-close]="true" color="primary">GUARDAR</button>
</div>