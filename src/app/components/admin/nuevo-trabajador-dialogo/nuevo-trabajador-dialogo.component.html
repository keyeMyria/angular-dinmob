<h1 mat-dialog-title>Nuevo Trabajador</h1>
<div mat-dialog-content>

  <form [formGroup]="form" (ngSubmit)="guardar()" id="id_form">

    <div class="form-group row">
      <label for="obra" class="col-sm-4 col-form-label">Obra</label>
      <div class="col-sm-8">
        <input class="form-control" type="text" name="obra" id="obra" [value]="data.obra.nombre" readonly>
      </div>
    </div>

    <div class="form-group row">
      <label for="nombre" class="col-sm-4 col-form-label">Nombre</label>
      <div class="col-sm-8">
        <input class="form-control" type="text" name="nombre" id="nombre" formControlName="nombre" [ngClass]="{'is-invalid': form.get('nombre').invalid  && (form.get('nombre').dirty || form.get('nombre').touched )}">
        <div class="invalid-feedback">Proporcione un nombre</div>
      </div>
    </div>

    <div class="form-group row">
      <label for="id_especialidad" class="col-sm-4 col-form-label">Especialidad</label>
      <div class="col-sm-8">
        <select class="form-control" id="id_especialidad" name="id_especialidad" formControlName="id_especialidad" [ngClass]="{'is-invalid': form.get('id_especialidad').invalid  && (form.get('id_especialidad').dirty || form.get('id_especialidad').touched) }">
          <option value="">Seleccionar...</option>
          <option [value]="especialidad.codigo" *ngFor="let especialidad of data.especialidades">{{especialidad.nombre}}</option>
        </select>
        <div class="invalid-feedback">Seleccione una especialidad</div>
      </div>
    </div>

    <div class="form-group row">
      <label for="retencion" class="col-sm-4 col-form-label">Retenci√≥n (%)</label>
      <div class="col-sm-8">
        <input [textMask]="{mask: numberMask}" class="form-control" type="text" name="retencion" id="retencion" formControlName="retencion" [ngClass]="{'is-invalid': form.get('retencion').invalid  && (form.get('retencion').dirty || form.get('retencion').touched )}">
        <div class="invalid-feedback">Especifique una cantidad (%)</div>
      </div>
    </div>

    <!--     <div class="form-group row">
      <label for="obra" class="col-sm-4 col-form-label">Obra</label>
      <div class="col-sm-8">
        <select class="form-control" id="obra" name="obra" formControlName="obra" [ngClass]="{'is-invalid': form.get('obra').invalid  && (form.get('obra').dirty || form.get('obra').touched) }">
          <option value="">Seleccionar...</option>
          <option [value]=""></option>
        </select>
        <div class="invalid-feedback">Asigne al trabajador a una obra</div>
      </div>
    </div> -->

  </form>


</div>
<div mat-dialog-actions>
  <button mat-button type="button" [mat-dialog-close]="false">CERRAR</button>
  <button mat-button type="submit" form="id_form" [disabled]="form.invalid" color="primary">GUARDAR</button>
</div>