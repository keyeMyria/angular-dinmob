<!-- [disabled]="formGenerales.invalid"  -->
<button mat-fab *ngIf="tab_selected=='Cliente'" [disabled]="formGenerales.invalid" (click)="guardarGenerales()" style="position:fixed; top:120px; right:20px; z-index: 10">
  <mat-icon>save</mat-icon>G
</button>

<button mat-fab *ngIf="tab_selected=='Datos laborales'" (click)="guardarLaborales()" style="position:fixed; top:120px; right:20px; z-index: 10">
  <mat-icon>save</mat-icon>L
</button>

<button mat-fab *ngIf="tab_selected=='Apoderado'" (click)="guardarApoderado()" style="position:fixed; top:120px; right:20px; z-index: 10">
  <mat-icon>save</mat-icon>A
</button>

<button mat-fab *ngIf="tab_selected=='Cónyuge'" (click)="guardarConyuge()" style="position:fixed; top:120px; right:20px; z-index: 10">
  <mat-icon>save</mat-icon>C
</button>

<button mat-fab *ngIf="tab_selected=='Inmueble'" (click)="guardarInmueble()" style="position:fixed; top:120px; right:20px; z-index: 10">
  <mat-icon>save</mat-icon>I
</button>

<button mat-fab *ngIf="tab_selected=='Alerta'" (click)="guardarAlerta()" style="position:fixed; top:120px; right:20px; z-index: 10">
  <mat-icon>save</mat-icon>A
</button>

<div *ngIf="loading">
  <mat-spinner class="loading"></mat-spinner>
</div>

<!-- backgroundColor="primary" [(selectedIndex)]="tabIndex"-->
<mat-tab-group (selectedTabChange)="onTabChange($event)">

  <!-- Datos Generales -->
  <mat-tab label="Cliente">
    <div class="container py-3">
      <form [formGroup]="formGenerales" (ngSubmit)="guardarGenerales()">


        <!-- Persona Fisica/Moral -->
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Actividad Económica</label>
          <div class="col-sm-9">
            <select class="form-control" formControlName="persona_moral">
              <option value="0">Persona Física</option>
              <option value="1">Persona Moral</option>
            </select>
          </div>
        </div>

        <div class="form-group row">
          <label *ngIf="formGenerales.get('persona_moral').value === '0'" class="col-form-label col-sm-3">Nombre completo</label>
          <label *ngIf="formGenerales.get('persona_moral').value === '1'" class="col-form-label col-sm-3">Razón Social</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" formControlName="nombre" [ngClass]="{'is-invalid':( formGenerales.get('nombre').invalid && ( formGenerales.get('nombre').dirty || formGenerales.get('nombre').touched ))}">
            <div class="invalid-feedback">Escriba un nombre</div>
          </div>
        </div>


        <!-- Persona Fisica -->
        <div *ngIf="formGenerales.get('persona_moral').value === '0'">


          <div class="form-group row">
            <label class="col-form-label col-sm-3">Nacionalidad</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="nacionalidad_persona_fisica" formControlName="nacionalidad_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Lugar de nacimiento</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="lugar_nacimiento_persona_fisica" formControlName="lugar_nacimiento_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3" for="fecha_nacimiento_persona_fisica">Fecha de nacimiento</label>
            <div class="col-sm-9">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_nacimiento_persona_fisica" id="fecha_nacimiento_persona_fisica"
                  formControlName="fecha_nacimiento_persona_fisica" [matDatepicker]="dpFechaNacimientoPF">
                <span class="input-group-btn">
                  <button class="btn btn-secondary" type="button" (click)="dpFechaNacimientoPF.open()">
                    <i class="fa fa-calendar"></i>
                  </button>
                </span>
              </div>
              <mat-datepicker touchUi="true" #dpFechaNacimientoPF></mat-datepicker>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">País de nacimiento</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="pais_nacimiento_persona_fisica" formControlName="pais_nacimiento_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Lugar de residencia</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="lugar_residencia_persona_fisica" formControlName="lugar_residencia_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Domicilio Particular</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="domicilio_persona_fisica" formControlName="domicilio_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">C.P.</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="cp_persona_fisica" formControlName="cp_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Ciudad</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="ciudad_persona_fisica" formControlName="ciudad_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Teléfono particular</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="telefono_persona_fisica" formControlName="telefono_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Número de celular</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="celular_persona_fisica" formControlName="celular_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Correo eletrónico</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="email_persona_fisica" formControlName="email_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Identificación oficial</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="identificacion_oficial_persona_fisica" formControlName="identificacion_oficial_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Número de identificación</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="num_identificacion_persona_fisica" formControlName="num_identificacion_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">RFC</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskRFC}" type="text" class="form-control" name="rfc_persona_fisica" formControlName="rfc_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">CURP</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskCURP}" type="text" class="form-control" name="curp_persona_fisica" formControlName="curp_persona_fisica">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Estado civil</label>
            <div class="col-sm-9">
              <select class="form-control" name="estado_civil_persona_fisica" formControlName="estado_civil_persona_fisica">
                <option value="0">Soltero</option>
                <option value="1">Casado</option>
              </select>

            </div>
          </div>

          <div class="form-group row" *ngIf="formGenerales.get('estado_civil_persona_fisica').value === '1'">
            <label class="col-form-label col-sm-3">Régimen</label>
            <div class="col-sm-9">
              <select class="form-control" name="regimen_conyugal_persona_fisica" formControlName="regimen_conyugal_persona_fisica">
                <option value="0">Separación de Bienes</option>
                <option value="1">Sociedad Conyugal</option>
              </select>
            </div>
          </div>

          <!-- Domicilio Fiscal persona fisica -->
          <h4 class="">Domicilio Fiscal</h4>
          <hr>

          <div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Calle</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_calle_persona_fisica" formControlName="df_calle_persona_fisica">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Núm. Exterior</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_num_exterior_persona_fisica" formControlName="df_num_exterior_persona_fisica">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Núm. Interior</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_num_interior_persona_fisica" formControlName="df_num_interior_persona_fisica">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Colonia</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_colonia_persona_fisica" formControlName="df_colonia_persona_fisica">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">C.P.</label>
              <div class="col-sm-9">
                <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="df_cp_persona_fisica" formControlName="df_cp_persona_fisica">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Localidad</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_localidad_persona_fisica" formControlName="df_localidad_persona_fisica">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Municipio</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_municipio_persona_fisica" formControlName="df_municipio_persona_fisica">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Estado</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_estado_persona_fisica" formControlName="df_estado_persona_fisica">
              </div>
            </div>
          </div>

        </div>

        <!-- Persona Moral -->
        <div *ngIf="formGenerales.get('persona_moral').value === '1'">

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Nacionalidad</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="nacionalidad_persona_moral" formControlName="nacionalidad_persona_moral">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Fecha de constitución</label>
            <div class="col-sm-9">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_constitucion_persona_moral" id="fecha_constitucion_persona_moral"
                  formControlName="fecha_constitucion_persona_moral" [matDatepicker]="dpFechaConstitucion">
                <span class="input-group-btn">
                  <button class="btn btn-secondary" type="button" (click)="dpFechaConstitucion.open()">
                    <i class="fa fa-calendar"></i>
                  </button>
                </span>
              </div>
              <mat-datepicker touchUi="true" #dpFechaConstitucion></mat-datepicker>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Actividad o giro mercantil</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="actividad_persona_moral" formControlName="actividad_persona_moral">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Número de teléfono</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="telefono_persona_moral" formControlName="telefono_persona_moral">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Correo electrónico</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="email_persona_moral" formControlName="email_persona_moral">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">RFC</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskRFCM}" type="text" class="form-control" name="rfc_persona_moral" formControlName="rfc_persona_moral">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Apoderado legal</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="apoderado_legal_persona_moral" formControlName="apoderado_legal_persona_moral">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Instrumento público</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="instrumento_publico_persona_moral" formControlName="instrumento_publico_persona_moral">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Poderes del representante legal</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="poderes_representante_persona_moral" formControlName="poderes_representante_persona_moral">
            </div>
          </div>

          <!-- Domicilio Fiscal persona moral -->
          <h4>Domicilio Fiscal</h4>
          <hr>

          <div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Calle</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_calle_persona_moral" formControlName="df_calle_persona_moral">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Núm. Exterior</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_num_exterior_persona_moral" formControlName="df_num_exterior_persona_moral">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Núm. Interior</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_num_interior_persona_moral" formControlName="df_num_interior_persona_moral">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Colonia</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_colonia_persona_moral" formControlName="df_colonia_persona_moral">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">C.P.</label>
              <div class="col-sm-9">
                <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="df_cp_persona_moral" formControlName="df_cp_persona_moral">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Localidad</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_localidad_persona_moral" formControlName="df_localidad_persona_moral">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Municipio</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_municipio_persona_moral" formControlName="df_municipio_persona_moral">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-sm-3">Estado</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" name="df_estado_persona_moral" formControlName="df_estado_persona_moral">
              </div>
            </div>
          </div>

        </div>

        <div class="form-group">
          <div class="text-center">
            <!-- [disabled]="formGenerales.invalid" -->
            <button mat-raised-button type="submit" color="primary">GUARDAR GENERALES</button>
          </div>
        </div>

      </form>
    </div>
  </mat-tab>

  <!-- Datos Laborales -->
  <mat-tab label="Datos laborales" *ngIf="formGenerales.get('persona_moral').value === '0'">

    <div class="container py-3">
      <form [formGroup]="formLaborales" (ngSubmit)="guardarLaborales()">

        <div class="form-group row">
          <label class="col-form-label col-sm-3">Profesión</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="profesion_laboral" formControlName="profesion_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Ocupación</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="ocupacion_laboral" formControlName="ocupacion_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Empresa</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="empresa_laboral" formControlName="empresa_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Puesto</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="puesto_laboral" formControlName="puesto_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Jefe inmediato</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="jefe_inmediato_laboral" formControlName="jefe_inmediato_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Giro de la empresa</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="giro_empresa_laboral" formControlName="giro_empresa_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Domicilio de la empresa</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="domicilio_empresa_laboral" formControlName="domicilio_empresa_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Código postal</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="cp_laboral" formControlName="cp_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Ciudad</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="ciudad_laboral" formControlName="ciudad_laboral">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Teléfono</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="telefono_laboral" formControlName="telefono_laboral">
          </div>
        </div>


        <div class="form-group">
          <div class="text-center">
            <button mat-raised-button type="submit" color="primary" [disabled]="formGenerales.invalid">GUARDAR LABORALES</button>
          </div>
        </div>

      </form>

    </div>
  </mat-tab>

  <!-- Conyuge -->
  <mat-tab label="Cónyuge" *ngIf="formGenerales.get('persona_moral').value === '0' && formGenerales.get('regimen_conyugal_persona_fisica').value === '1'">
    <div class="container py-3">

      <form [formGroup]="formConyuge" (ngSubmit)="guardarConyuge()">

        <div class="form-group row">
          <label class="col-form-label col-sm-3">Nombre completo</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="nombre_conyuge" formControlName="nombre_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Nacionalidad</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="nacionalidad_conyuge" formControlName="nacionalidad_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Lugar de nacimiento</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="lugar_nacimiento_conyuge" formControlName="lugar_nacimiento_conyuge">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-form-label col-sm-3" for="fecha_nacimiento_conyuge">Fecha de nacimiento</label>
          <div class="col-sm-9">
            <div class="input-group">
              <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_nacimiento_conyuge" id="fecha_nacimiento_conyuge"
                formControlName="fecha_nacimiento_conyuge" [matDatepicker]="dpFechaNacimientoConyugue">
              <span class="input-group-btn">
                <button class="btn btn-secondary" type="button" (click)="dpFechaNacimientoConyugue.open()">
                  <i class="fa fa-calendar"></i>
                </button>
              </span>
            </div>
            <mat-datepicker touchUi="true" #dpFechaNacimientoConyugue></mat-datepicker>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">País de nacimiento</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="pais_nacimiento_conyuge" formControlName="pais_nacimiento_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Lugar de residencia</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="lugar_residencia_conyuge" formControlName="lugar_residencia_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Domicilio particular</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="domicilio_conyuge" formControlName="domicilio_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Código postal</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="cp_conyuge" formControlName="cp_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Ciudad</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="ciudad_conyuge" formControlName="ciudad_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Teléfono particular</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="telefono_conyuge" formControlName="telefono_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Teléfono celular</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="celular_conyuge" formControlName="celular_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Correo electrónico</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="email_conyuge" formControlName="email_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Identificación oficial</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="identificacion_oficial_conyuge" formControlName="identificacion_oficial_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">RFC</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskRFC}" type="text" class="form-control" name="rfc_conyuge" formControlName="rfc_conyuge">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">CURP</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskCURP}" type="text" class="form-control" name="curp_conyuge" formControlName="curp_conyuge">
          </div>
        </div>

        <!-- Domicilio Fiscal conyuge -->

        <h4 class="">Domicilio Fiscal</h4>
        <hr>

        <div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Calle</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="df_calle_conyuge" formControlName="df_calle_conyuge">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Núm. Exterior</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="df_num_exterior_conyuge" class="form-control" formControlName="df_num_exterior_conyuge">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Núm. Interior</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="df_num_interior_conyuge" formControlName="df_num_interior_conyuge">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Colonia</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="df_colonia_conyuge" formControlName="df_colonia_conyuge">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">C.P.</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="df_cp_conyuge" formControlName="df_cp_conyuge">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Localidad</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="df_localidad_conyuge" formControlName="df_localidad_conyuge">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Municipio</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="df_municipio_conyuge" formControlName="df_municipio_conyuge">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Estado</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="df_estado_conyuge" formControlName="df_estado_conyuge">
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="text-center">
            <button mat-raised-button type="submit" color="primary">GUARDAR CÓNYUGE</button>
          </div>
        </div>

      </form>

    </div>
  </mat-tab>

  <!-- Apoderado Legal -->
  <mat-tab label="Apoderado" *ngIf="formGenerales.get('persona_moral').value === '1'">
    <div class="container py-3">

      <form [formGroup]="formApoderado" (ngSubmit)="guardarApoderado()">

        <div class="form-group row">
          <label class="col-form-label col-sm-3">Nombre completo</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="nombre_apoderado" formControlName="nombre_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Nacionalidad</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="nacionalidad_apoderado" formControlName="nacionalidad_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Lugar de nacimiento</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="lugar_nacimiento_apoderado" formControlName="lugar_nacimiento_apoderado">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-form-label col-sm-3" for="fecha_nacimiento_apoderado">Fecha de nacimiento</label>
          <div class="col-sm-9">
            <div class="input-group">
              <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_nacimiento_apoderado" id="fecha_nacimiento_apoderado"
                formControlName="fecha_nacimiento_apoderado" [matDatepicker]="dpFechaNacimientoApoderado">
              <span class="input-group-btn">
                <button class="btn btn-secondary" type="button" (click)="dpFechaNacimientoApoderado.open()">
                  <i class="fa fa-calendar"></i>
                </button>
              </span>
            </div>
            <mat-datepicker touchUi="true" #dpFechaNacimientoApoderado></mat-datepicker>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">País de nacimiento</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="pais_nacimiento_apoderado" formControlName="pais_nacimiento_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Lugar de residencia</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="lugar_residencia_apoderado" formControlName="lugar_residencia_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Domicilio particular</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="domicilio_apoderado" formControlName="domicilio_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Código postal</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="cp_apoderado" formControlName="cp_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Ciudad</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="ciudad_apoderado" formControlName="ciudad_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Teléfono particular</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="telefono_apoderado" formControlName="telefono_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Número de celular</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskPhone}" type="text" class="form-control" name="celular_apoderado" formControlName="celular_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Correo eletrónico</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="email_apoderado" formControlName="email_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Identificación oficial</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="identificacion_oficial_apoderado" formControlName="identificacion_oficial_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">Número de identificación</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="num_identificacion_apoderado" formControlName="num_identificacion_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">RFC</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskRFC}" type="text" class="form-control" name="rfc_apoderado" formControlName="rfc_apoderado">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-form-label col-sm-3">CURP</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: maskCURP}" type="text" class="form-control" name="curp_apoderado" formControlName="curp_apoderado">
          </div>
        </div>

        <div class="form-group">
          <div class="text-center">
            <button mat-raised-button type="submit" color="primary">GUARDAR APODERADO</button>
          </div>
        </div>

      </form>

    </div>
  </mat-tab>

  <!-- <Documentos> -->
  <mat-tab label="Documentos">

    <div class="container py-3">


      <div class="table-responsive">
        <table class="table table-striped table-hover table-sm table-align-middle">
          <thead>
            <tr>
              <th>Titular</th>
              <th class="text-right">
                <button mat-icon-button (click)="agregarDocumento(0)">
                  <mat-icon>add</mat-icon>
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let doc of documentos_cliente">
              <td>
                <a class="no-decoration" href="" target="_blank">{{doc.nombre}}</a>
              </td>
              <td class="text-right">
                <button mat-button class="no-min" (click)="editarDocumento(doc)">
                  <i class="fa fa-pencil"></i>
                </button>
                <button mat-button class="no-min" (click)="delDocumento(doc)">
                  <i class="fa fa-times"></i>
                </button>
              </td>
            </tr>
            <tr *ngIf="documentos_cliente.length === 0">
              <td colspan="2" class="text-center">Ningún documento encontrado</td>
            </tr>
          </tbody>
        </table>
      </div>



      <div class="table-responsive">
        <table class="table table-striped table-hover table-sm table-align-middle mt-3">
          <thead>
            <tr>
              <th>Cónyuge</th>
              <th class="text-right">
                <button mat-icon-button (click)="agregarDocumento(1)">
                  <mat-icon>add</mat-icon>
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let doc of documentos_conyuge">
              <td>
                <a class="no-decoration" href="" target="_blank">{{doc.nombre}}</a>
              </td>
              <td class="text-right">
                <button mat-button class="no-min" (click)="editarDocumento(doc)">
                  <i class="fa fa-pencil"></i>
                </button>
                <button mat-button class="no-min" (click)="delLote(manzana,lote, $event)">
                  <i class="fa fa-times"></i>
                </button>
              </td>
            </tr>
            <tr *ngIf="documentos_conyuge.length === 0">
              <td colspan="2" class="text-center">Ningún documento encontrado</td>
            </tr>
          </tbody>
        </table>
      </div>



    </div>
  </mat-tab>

  <!-- <Inmueble> -->
  <mat-tab label="Inmueble">
    <div class="container py-3">

      <!-- Compras -->
      <div class="table-responsive">
        <table class="table table-striped table-hover table-align-middle table-striped mb-4">
          <thead>
            <tr>
              <!-- style="width:56px" -->
              <th></th>
              <th>Lote</th>
              <th>Estado</th>
              <th>Activación</th>
              <th>Cancelación</th>
              <th class="text-right" style="width:66px">
                <button mat-icon-button (click)="nuevaCompra()">
                  <mat-icon>add</mat-icon>
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let compra of compras" class="pointer" (click)="selectCompra(compra)" [ngClass]="{'table-primary':selection.isSelected(compra)}">
              <td>
                <!-- <mat-icon>{{ compra.selected?'check_box':'check_box_outline_blank'}}</mat-icon> -->
                <mat-checkbox class="pl-2" (click)="$event.stopPropagation()" (change)="$event ? selectCompra(compra) : null" [checked]="selection.isSelected(compra)"></mat-checkbox>
              </td>
              <td class="ws-nowrap">{{compra.obra + " / " + compra.manzana + " / "}}
                <strong>{{compra.lote}}</strong>
              </td>
              <td>{{compra.activo|numberToYesNo:'AC'}}</td>
              <td class="ws-nowrap">{{compra.fecha_activo| date:'mediumDate':'':'es'}}</td>
              <td class="ws-nowrap">{{compra.fecha_cancelacion| date:'mediumDate':'':'es'}}</td>
              <td class="text-right">
                <button mat-icon-button [matMenuTriggerFor]="menu3" (click)="$event.stopPropagation()">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu3="matMenu">
                  <button mat-menu-item (click)="toggleActivacionCompra(compra)">
                    <mat-icon>cancel</mat-icon>
                    <span>Cancelar</span>
                    <!-- <span *ngIf="form.get('activo').value=='0'">Activar</span> -->
                  </button>
                  <button mat-menu-item (click)="delCompra(compra)">
                    <mat-icon>delete</mat-icon>
                    <span>Eliminar</span>
                  </button>
                  <button mat-menu-item (click)="reporteCompra(compra)">
                    <mat-icon>report</mat-icon>
                    <span>Reporte</span>
                  </button>
                  <button mat-menu-item (click)="irLote(compra)">
                    <mat-icon>assignment_late</mat-icon>
                    <span>Ir a Lote</span>
                  </button>

                </mat-menu>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <button class="btn btn-outline-dark" (click)="showSelection()">show selection</button>




      <div class="card text-white bg-secondary px-3 mb-3">

        <div class="form-group row mt-3">
          <label class="col-form-label col-sm-3">Estado Lote</label>
          <div class="col-sm-9">
            <div class="input-group">
              <select class="form-control">
                <option *ngFor="let estado of estados" [value]="estado.id_estado_lote">{{estado.descripcion}}</option>
              </select>
              <div class="input-group-btn">
                <button type="button" class="btn btn-light" (click)="actualizarEstadoLote(compra_selected)">Actualizar</button>
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-form-label col-sm-3" for="fecha_estado">Fecha Estado</label>
          <div class="col-sm-9">
            <div class="input-group">
              <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_estado" id="fecha_estado" [matDatepicker]="dpFechaEstado">
              <span class="input-group-btn">
                <button class="btn btn-light" type="button" (click)="dpFechaEstado.open()">
                  <i class="fa fa-calendar"></i>
                </button>
              </span>
            </div>
            <mat-datepicker touchUi="true" #dpFechaEstado></mat-datepicker>
          </div>
        </div>

        <div class="form-group row">
          <label for="" class="col-form-label col-sm-3">Precio de Lista</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: numbermask}" type="text" class="form-control">
          </div>
        </div>

      </div>

      <form [formGroup]="formInmueble" (ngSubmit)="actualizarCompra(compra_selected)">
        <fieldset [disabled]="selection.isEmpty()">
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Proyecto</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="proyecto" formControlName="proyecto">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Desarrollador</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="desarrollador" formControlName="desarrollador">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Valor de operación</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: numbermask}" type="text" class="form-control" name="valor_operacion" formControlName="valor_operacion">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Ubicación</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="ubicacion" formControlName="ubicacion">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Código postal</label>
            <div class="col-sm-9">
              <input [textMask]="{mask: maskCP}" type="text" class="form-control" name="cp" formControlName="cp">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Tipo de operación</label>
            <div class="col-sm-9">
              <select class="form-control" name="id_tipo_operacion" formControlName="id_tipo_operacion">
                <option [value]="">Seleccionar...</option>
                <option *ngFor="let op of tipos_operacion" [value]="op.id_tipo_operacion">{{op.descripcion}}</option>
              </select>
            </div>
          </div>

          <div class="form-group row" *ngIf="compra_selected.id_tipo_operacion === '1'">
            <label class="col-form-label col-sm-3">Institución Crédito</label>
            <div class="col-sm-9">
              <select class="form-control" name="id_institucion_credito" formControlName="id_institucion_credito">
                <option [value]="">Seleccionar...</option>
                <option *ngFor="let inst of instituciones_credito" [value]="inst.id_istitucion_credito">{{inst.nombre}}</option>
              </select>
            </div>
          </div>

          <div class="form-group row" *ngIf="compra_selected.id_tipo_operacion === '1' && compra_selected.id_institucion_credito === '1'">
            <label class="col-form-label col-sm-3">Banco</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="banco_credito" formControlName="banco_credito">
            </div>
          </div>
          <div class="form-group row" *ngIf="compra_selected.id_institucion_credito === '10'">
            <label class="col-form-label col-sm-3">Institución</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="otra_credito" formControlName="otra_credito">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3" for="fecha_firma_contrato">Fecha Firma Contrato</label>
            <div class="col-sm-9">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_firma_contrato" id="fecha_firma_contrato" [matDatepicker]="dpFechaFirmaContrato"
                  (ngModelChange)="onFechaChange()">
                <span class="input-group-btn">
                  <button class="btn btn-secondary" type="button" (click)="dpFechaFirmaContrato.open()">
                    <i class="fa fa-calendar"></i>
                  </button>
                </span>
              </div>
              <mat-datepicker touchUi="true" #dpFechaFirmaContrato></mat-datepicker>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3" for="fecha_entrega">Fecha Entrega Contrato</label>
            <div class="col-sm-9">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_entrega" id="fecha_entrega" [matDatepicker]="dpFechaEntrega"
                  (ngModelChange)="onFechaChange()">
                <span class="input-group-btn">
                  <button class="btn btn-secondary" type="button" (click)="dpFechaEntrega.open()">
                    <i class="fa fa-calendar"></i>
                  </button>
                </span>
              </div>
              <mat-datepicker touchUi="true" #dpFechaEntrega></mat-datepicker>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Asesor Inmobiliario</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="asesor_inmobiliario" formControlName="asesor_inmobiliario">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-form-label col-sm-3">Asesor</label>
            <div class="col-sm-9">
              <select class="form-control" name="id_asesor" formControlName="id_asesor">
                <option [value]="">Seleccionar...</option>
                <option *ngFor="let a of asesores" [value]="a.value">{{a.text}}</option>
              </select>
            </div>
          </div>
          <div class="form-group row" *ngIf="compra_selected.id_estado_venta === '5'">
            <label class="col-form-label col-sm-3">Datos de Firma</label>
            <div class="col-sm-9">
              <textarea class="form-control" rows="6" name="notas_escrituracion" formControlName="notas_escrituracion">
                                                    </textarea>
            </div>
          </div>
          <div class="form-group row" *ngIf="compra_selected.activo === '0'">
            <label class="col-form-label col-sm-3">Motivo Cancelación</label>
            <div class="col-sm-9">
              <textarea class="form-control" rows="4" name="notas_cancelacion" formControlName="notas_cancelacion"></textarea>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3" for="fecha_entrega_fisica">Fecha Entrega Física</label>
            <div class="col-sm-9">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha_entrega_fisica" id="fecha_entrega_fisica" [matDatepicker]="dpFechaEntregaFisica"
                  (ngModelChange)="onFechaChange()">
                <span class="input-group-btn">
                  <button class="btn btn-secondary" type="button" (click)="dpFechaEntregaFisica.open()">
                    <i class="fa fa-calendar"></i>
                  </button>
                </span>
              </div>
              <mat-datepicker touchUi="true" #dpFechaEntregaFisica></mat-datepicker>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-form-label col-sm-3">Comentarios Entrega Física</label>
            <div class="col-sm-9">
              <textarea class="form-control" rows="6" name="comentarios_entrega_fisica" formControlName="comentarios_entrega_fisica"></textarea>
            </div>
          </div>

          <div class="form-group">
            <div class="text-center">
              <button mat-raised-button type="submit" color="primary" [disabled]="selection.isEmpty()">GUARDAR INMUEBLE</button>
            </div>
          </div>


        </fieldset>
      </form>


    </div>
  </mat-tab>

  <!-- <Esquema Pagos> -->
  <mat-tab label="Esquema Pagos">
    <div class="container py-3">

      <!-- compras -->
      <div class="table-responsive">
        <table class="table table-striped table-hover table-align-middle table-striped">
          <thead>
            <tr>
              <th></th>
              <th>Lote</th>
              <th>Estado</th>
              <th>Activación</th>
              <th>Cancelación</th>
              <th class="text-right" style="width:66px"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let compra of compras" class="pointer" (click)="selectCompra(compra)" [ngClass]="{'table-primary':selection.isSelected(compra)}">

              <td>
                <mat-checkbox class="pl-2" (click)="$event.stopPropagation()" (change)="$event ? selectCompra(compra) : null" [checked]="selection.isSelected(compra)"></mat-checkbox>
              </td>

              <td class="ws-nowrap">{{compra.obra + " / " + compra.manzana + " / "}}
                <strong>{{compra.lote}}</strong>
              </td>
              <td>{{compra.activo|numberToYesNo:'AC'}}</td>
              <td class="ws-nowrap">{{compra.fecha_activo| date:'mediumDate':'':'es'}}</td>
              <td class="ws-nowrap">{{compra.fecha_cancelacion| date:'mediumDate':'':'es'}}</td>
              <td class="text-right">
                <button mat-icon-button [matMenuTriggerFor]="menu3" (click)="$event.stopPropagation()">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu3="matMenu">
                  <button mat-menu-item (click)="cancelarAsociacion(compra, $event)">
                    <mat-icon>cancel</mat-icon>
                    <span>Cancelar</span>
                  </button>
                  <button mat-menu-item (click)="delPagos(compra)">
                    <mat-icon>delete</mat-icon>
                    <span>Eliminar</span>
                  </button>
                  <button mat-menu-item (click)="reporteAsociacion(compra, $event)">
                    <mat-icon>report</mat-icon>
                    <span>Reporte</span>
                  </button>
                </mat-menu>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- <div class="text-center margin-bottom">
        <button type="button" class="btn btn-secundary" (click)="nuevoPago()">Nuevo Pago</button>
      </div>

      <hr> -->

      <!-- totales -->
      <div class="row">

        <div class="col-12 col-sm-4 py-3">
          <div class="text-center border-right">
            <h4 class="text-primary">
              {{(compra_selected.valor_operacion|| 0) |unmaskNumber |currency }}
            </h4>
            <span>VALOR OPERACIÓN</span>
          </div>
        </div>

        <div class="col-12 col-sm-4 py-3">
          <div class="text-center border-right">
            <h4 class="text-success">
              {{totalPagosRealizados() | currency}}
            </h4>
            <span>-PAGOS REALIZADOS</span>
          </div>
        </div>

        <div class="col-12 col-sm-4 py-3">
          <div class="text-center">
            <h4 class="text-danger">
              {{saldoPendiente() | currency}}
            </h4>
            <span>=SALDO PENDIENTE</span>
          </div>
        </div>

      </div>

      <!-- pagos -->
      <div class="table-responsive">
        <table id="tablePagos" class="table table-striped table-hover table-align-middle mt-4">
          <thead>
            <tr>
              <th>Programación</th>
              <th>Pago</th>
              <th>Monto</th>
              <th>Tipo</th>
              <th>Forma</th>
              <th>Nota</th>
              <th>Validado</th>
              <th>
                <i class="fa fa-picture"></i>
              </th>
              <th class="text-right" style="width:66px">
                <button mat-icon-button (click)="nuevoPago()" [disabled]="selection.isEmpty()">
                  <mat-icon>add</mat-icon>
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let pago of compra_selected.pagos">
              <td class="ws-nowrap">{{pago.fecha_programada| date:'mediumDate':'':'es'}}</td>
              <td class="ws-nowrap">{{pago.fecha_pago| date:'mediumDate':'':'es'}}</td>
              <td>{{pago.monto|currency}}</td>
              <td>{{pago.tipo_pago}}</td>
              <td>{{pago.forma_pago}}</td>
              <td>{{pago.nota}}</td>
              <td>
                <span class="badge" [ngClass]="pago.validado=='1'?'badge-success':'badge-secondary'">
                  {{pago.validado|numberToYesNo:'VAL'}}
                </span>
              </td>
              <td>
                <a target="_blank"></a>
              </td>
              <!-- *ngIf="pago.file_ficha_deposito"  -->
              <td class="text-right">
                <!--  <button type="button" class="btn btn-default btn-sm" (click)="pre_uploadFicha(pago)"><i class="glyphicon glyphicon-picture"></i></button>
                              <button type="button" class="btn btn-default btn-sm" (click)="pre_updatePago(pago)"><i class="glyphicon glyphicon-pencil"></i></button>
                              <button type="button" class="btn btn-default btn-sm" (click)="pre_eliminarPago(pago)"><i class="glyphicon glyphicon-remove"></i></button> -->
                <button mat-icon-button [matMenuTriggerFor]="menu4">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu4="matMenu">
                  <button mat-menu-item>
                    <mat-icon>attachment</mat-icon>
                    <span>Ficha</span>
                  </button>
                  <button mat-menu-item (click)="editarPago(pago)">
                    <mat-icon>create</mat-icon>
                    <span>Editar</span>
                  </button>
                  <button mat-menu-item (click)="delPago(pago)">
                    <mat-icon>delete</mat-icon>
                    <span>Eliminar</span>
                  </button>
                </mat-menu>
              </td>
            </tr>
          </tbody>
        </table>
      </div>




    </div>
  </mat-tab>

  <!-- <Alerta> -->
  <mat-tab label="Alerta">
    <div class="container py-3">
      <form [formGroup]="formAlerta" (ngSubmit)="guardarAlerta()">

        <div class="form-group">
          <mat-slide-toggle formControlName="alerta_activada">Alerta Activada</mat-slide-toggle>
        </div>

        <div class="form-group">
          <!-- <label for="mensaje_alerta" class="col-form-label">Mensaje de Alerta</label> -->
          <input class="form-control" type="text" placeholder="Mensaje" name="mensaje_alerta" id="mensaje_alerta" formControlName="mensaje_alerta">
        </div>

        <div class="form-group">
          <div class="text-center">
            <button mat-raised-button type="submit" color="primary">GUARDAR ALERTA</button>
          </div>
        </div>

      </form>



    </div>
  </mat-tab>

</mat-tab-group>