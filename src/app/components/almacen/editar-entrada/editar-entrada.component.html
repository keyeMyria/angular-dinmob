<mat-tab-group>

  <!-- Datos -->
  <mat-tab label="Datos">
    <div class="container py-3">

      <form [formGroup]="form" (ngSubmit)="guardar()" id="id_form">

        <div class="form-group row mt-2">
          <label for="proveedor" class="col-sm-3 col-form-label">Proveedor</label>
          <div class="col-sm-9">
            <select class="form-control" id="proveedor" name="proveedor" formControlName="id_proveedor" [ngClass]="{'is-invalid': form.get('id_proveedor').invalid  && (form.get('id_proveedor').dirty || form.get('id_proveedor').touched) }">
              <option *ngFor="let proveedor of proveedores" [value]="proveedor.id_proveedor">{{proveedor.nombre}}</option>
            </select>
            <div class="invalid-feedback">Proporcione un proveedor</div>
          </div>
        </div>

        <div class="form-group row">
          <label for="fecha" class="col-sm-3 col-form-label">Fecha</label>
          <div class="col-sm-9">
            <div class="input-group">
              <input class="form-control" placeholder="yyyy-mm-dd" type="text" name="fecha" id="fecha" placement="bottom-left" [matDatepicker]="dpFechaProgramada"
                formControlName="fecha" [ngClass]="{'is-invalid':form.get('fecha').invalid && form.get('fecha').touched }">
              <span class="input-group-append">
                <button class="btn btn-secondary" type="button" (click)="dpFechaProgramada.open()">
                  <i class="fa fa-calendar"></i>
                </button>
              </span>
            </div>
            <div *ngIf="form.get('fecha').invalid && form.get('fecha').touched " class="visible invalid-feedback">
              Seleccione una fecha
            </div>
            <mat-datepicker touchUi="true" #dpFechaProgramada></mat-datepicker>
          </div>
        </div>

        <div class="form-group row">
          <label for="folio" class="col-sm-3 col-form-label">Folio</label>
          <div class="col-sm-9">
            <input class="form-control" type="text" id="folio" name="folio" formControlName="folio" [ngClass]="{'is-invalid': form.get('folio').invalid  && (form.get('folio').dirty || form.get('folio').touched) }">
            <div class="invalid-feedback">Proporcione un folio</div>
          </div>
        </div>

        <div class="form-group row">
          <label for="total" class="col-sm-3 col-form-label">Total</label>
          <div class="col-sm-9">
            <input [textMask]="{mask: numberMask}" class="form-control" type="text" id="total" name="total" formControlName="total" [ngClass]="{'is-invalid': form.get('total').invalid  && (form.get('total').dirty || form.get('total').touched) }">
            <div class="invalid-feedback">Proporcione una cantidad</div>
          </div>
        </div>

        <div class="form-group row">
          <label for="al_contado" class="col-sm-3 col-form-label">Forma de Pago</label>
          <div class="col-sm-9">
            <select class="form-control" id="al_contado" name="al_contado" formControlName="al_contado" [ngClass]="{'is-invalid': form.get('al_contado').invalid  && (form.get('al_contado').dirty || form.get('al_contado').touched) }">
              <option value="">Seleccionar...</option>
              <option value="0">Crédito</option>
              <option value="1">Contado</option>
            </select>
            <div class="invalid-feedback">Seleccione un tipo de pago</div>
          </div>
        </div>

        <div class="form-group row">
          <label for="es_factura" class="col-sm-3 col-form-label">Documento</label>
          <div class="col-sm-9">
            <select class="form-control" id="es_factura" formControlName="es_factura" [ngClass]="{'is-invalid': form.get('es_factura').invalid  && (form.get('es_factura').dirty || form.get('es_factura').touched) }">
              <option value="">Seleccionar...</option>
              <option value="0">Remisión</option>
              <option value="1">Factura</option>
            </select>
            <div class="invalid-feedback">Seleccione documento</div>
          </div>
        </div>

        <div class="text-center">
          <button type="submit" mat-raised-button color="primary" [disabled]="form.invalid">Actualizar</button>
        </div>


      </form>

    </div>
  </mat-tab>

  <!-- materiales -->
  <mat-tab label="Materiales">

    <div class="container py-3">
      <div class="table-responsive mt-3">
        <table class="table table-striped my-table-sm table-align-middle">
          <thead>
            <tr>
              <th>Insumo</th>
              <th>Cantidad</th>
              <th>Unidad</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let insumo of entrada?.insumos">
              <td>{{insumo.insumo}}</td>
              <td>{{insumo.cantidad}}</td>
              <td>{{insumo.unidad}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </mat-tab>

</mat-tab-group>