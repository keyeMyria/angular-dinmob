<button mat-fab [disabled]="!lote_selected" style="position:fixed; bottom:20px; right:20px; z-index:100" (click)="verClientes()">
  <!-- <mat-icon aria-label="fab-button">person</mat-icon> -->
  <small>{{lote_selected?.code}}</small>
</button>
<button mat-fab style="position:fixed; bottom:85px; right:20px; z-index:100" (click)="configMapa()">
  <mat-icon aria-label="fab-button">settings</mat-icon>
</button>

<div class="content p-2">

  <mat-form-field class="w-100">
    <mat-select placeholder="Obra" [(ngModel)]="obra_selected" (change)="cargarObra(obra_selected)">
      <mat-option *ngFor="let obra of obras" [value]="obra.id_obra">{{ obra.nombre }}</mat-option>
    </mat-select>
  </mat-form-field>


  <div class="map no-gutters" style="position:relative">

    <!-- mapa -->
    <div id="map" class="col-12 col-lg-9"></div>

    <!-- datos -->
    <div class="d-none d-lg-block col-lg-3">

      <mat-card>

        <div class="form-group">
          <label for="nombre" class="text-muted">Lote</label>
          <div class="texto">{{lote_selected?.manzana}} {{lote_selected?.nombre}}</div>
        </div>

        <div class="form-group">
          <label for="prototipos" class="text-muted">Prototipos</label>
          <div class="texto">{{lote_selected?.prototipos|prototiposToString}}</div>
        </div>

        <div class="form-group">
          <label for="valor_base" class="text-muted">Valor Base</label>
          <div class="texto">{{lote_selected?.valor_base|currency}}</div>
        </div>

        <div class="form-group">
          <label for="valor_ampliacion" class="text-muted">Valor Ampliaci√≥n</label>
          <div class="texto">{{lote_selected?.valor_ampliacion|currency}}</div>
        </div>

        <div class="form-group">
          <label for="fecha" class="text-muted">Fecha Cambio de Estado</label>
          <div class="texto">{{lote_selected?.fecha_cambio_estado | date:'mediumDate':'':'es'}}</div>
        </div>

        <div class="form-group">
          <label for="estado" class="text-muted">Estado Venta</label>
          <div class="texto">{{lote_selected?.estado_venta}}</div>
        </div>

        <div class="form-group">
          <mat-slide-toggle [checked]="verLeyenda" (change)="toggleVerLeyenda($event)">Leyenda</mat-slide-toggle>
        </div>
        <button mat-raised-button color="primary" class="btn-block" (click)="verClientes()" [disabled]="!lote_selected">Clientes</button>
        <button mat-raised-button color="primary" class="btn-block" (click)="escalaPrototipos()">Prototipos</button>
        <button mat-raised-button color="primary" class="btn-block" (click)="escalaEstados()">Lotes</button>



      </mat-card>

    </div>



  </div>

</div>